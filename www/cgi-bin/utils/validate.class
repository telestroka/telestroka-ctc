<?php
/***********************************************
-=Ms Site=-

Автор:    Миропольский Михаил <ms@ensk.ru> 
Описание: Класс утилит-валидаторов.
***********************************************/

//Исключение: префикс validate перед функциями заменен на is
class Validate
{
	function IsEmpty($string)
	{
	   if ( strlen($string) > 0 ) return FALSE;
	   return TRUE;
	}

	function IsRightLength($string, $min, $max)
	{
	   if ( strlen($string) > $max ) return FALSE;
	   if ( strlen($string) < $min ) return FALSE;
	   return TRUE;
	}

	function IsDigital($string)
	{
		if ( preg_match('/\d/i', $string) ) return TRUE;
		return FALSE;
	}

	function IsSystem($string)
	{
		if ( preg_match('/[a-z0-9_]/i', $string) > 0 )  return TRUE;
		return FALSE;
	}

	function IsEmail($string)
	{
		if ( !$this->IsRightLength($string, 1, 255) ) return FALSE;
		if ( preg_match('/\w+@\w+\.\w{2,4}/i', $string) > 0 )  return TRUE;
		return FALSE;
	}

	function IsIcq($string)
	{
		if ( !$this->IsRightLength($string, 5, 10) ) return FALSE;
	    if ( !$this->IsDigital($string) ) return FALSE;
		return TRUE;
	}

	function IsUrl($string)
	{
		if ( !$this->IsRightLength($string, 1, 255) ) return FALSE;
		$string = str_replace('http://', '', $string);
		$string='http://' . $string;
		if ( @fopen($string, 'r') ) return TRUE;
		return FALSE;
	}

	function IsIp($string)
	{
		if ( !$this->IsRightLength($string, 1, 15) ) return FALSE;
		if ( preg_match('/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/', $string) > 0 )  return TRUE;
		return FALSE;
	}

	function IsDamn($string)
	{
		$damnes = array(
						'пизд',
						' хуй ',
						' хуе',
						'охуе',
						'хуё',
						' хуя',
						' хую ',
						'бляд',
						' бля ',
						'пидор',
						' еба',
						' ёба',
						'ебат',
						'сука',
						'сукой',
						' суке ',
						' суку ',
						'fuck',
						'damn'
				  		);
		foreach ($damnes as $damn)
		{
   			if ( stristr($string, $damn) ) return TRUE;
			if ( $string == trim($damn) ) return TRUE;
		}
		return FALSE;
	}

	function IsValidDate($day, $month, $year)
	{
		return checkdate($month, $day, $year);
	}
	
	
	function IsUploadFile($name, $size)
	{
		if ($size == 0)  return FALSE;
		if ($name = '')  return FALSE;
		return TRUE;
	}
}
?>
